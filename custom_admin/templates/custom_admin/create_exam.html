{% extends 'base.html' %}

{% block title %}Imtihon yaratish{% endblock %}

{% block breadcrumb %}
<!-- Breadcrumb Navigation -->
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Asosiy</a></li>
        <li class="breadcrumb-item"><a href="{% url 'exams_list' %}">Imtihonlar ro'yxati</a></li>
        <li class="breadcrumb-item active" aria-current="page">Imtihon yaratish</li>
    </ol>
</nav>
{% endblock %}

{% block content %}
<h1 class="h3 mb-4 text-gray-800">Imtihon yaratish</h1>

<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Yangi imtihon yaratish</h6>
        {% if exam %}
        <div class="btn-group" role="group">
            <a href="{% url 'exam_questions' exam.id %}" class="btn btn-info btn-sm">Savollar</a>
            <a href="{% url 'add_group' exam.id %}" class="btn btn-success btn-sm">Guruh qo'shish</a>
            <a href="{% url 'exam_results' exam.id %}" class="btn btn-warning btn-sm">Natija</a>
        </div>
        {% endif %}
    </div>
    <div class="card-body">
        <form method="post" novalidate>
            {% csrf_token %}
            <!-- First Row: Split into two halves -->
            <div class="row mb-2">
                <!-- Left Half: Nomi, Izoh, O'quv reja -->
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="{{ form.name.id_for_label }}">{{ form.name.label }}</label>
                        {{ form.name }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.description.id_for_label }}">{{ form.description.label }}</label>
                        {{ form.description }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.oquv_reja.id_for_label }}">{{ form.oquv_reja.label }}</label>
                        {{ form.oquv_reja }}
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="{{ form.oquv_yili.id_for_label }}">{{ form.oquv_yili.label }}</label>
                                {{ form.oquv_yili }}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="{{ form.semester.id_for_label }}">{{ form.semester.label }}</label>
                                {{ form.semester }}
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Right Half: O'quv yili and Semestr -->
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="{{ form.nazorat_turi.id_for_label }}">{{ form.nazorat_turi.label }}</label>
                                {{ form.nazorat_turi }}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="{{ form.faol.id_for_label }}">{{ form.faol.label }}</label>
                                {{ form.faol }}
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="{{ form.boshlanish.id_for_label }}">{{ form.boshlanish.label }}</label>
                                {{ form.boshlanish }}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="{{ form.tugash.id_for_label }}">{{ form.tugash.label }}</label>
                                {{ form.tugash }}
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="{{ form.vaqti_daqiqa.id_for_label }}">{{ form.vaqti_daqiqa.label }}</label>
                                {{ form.vaqti_daqiqa }}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="{{ form.maks_ball.id_for_label }}">{{ form.maks_ball.label }}</label>
                                {{ form.maks_ball }}
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="{{ form.urinishlar.id_for_label }}">{{ form.urinishlar.label }}</label>
                                {{ form.urinishlar }}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="{{ form.savollar_soni_for_label }}">{{ form.savollar_soni.label }}</label>
                                {{ form.savollar_soni }}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="{{ form.tasodifiy.id_for_label }}">{{ form.tasodifiy.label }}</label>
                                {{ form.tasodifiy }}
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="{{ form.subject.id_for_label }}">{{ form.subject.label }}</label>
                        {{ form.subject }}
                    </div>

                </div>
            </div>

            <!-- Saqlash Button on the right -->
            <div class="row">
                <div class="col-md-12 text-right align-right">
                    <button type="submit" class="btn btn-primary">Saqlash</button>
                </div>
            </div>
        </form>
    </div>
</div>

{% block extra_css %}
<style>
    /* Ensure form inputs take the full width of their column */
    .form-control, .form-select {
        width: 100%;
    }
    /* Match form-select styles to form-control */
    .form-select {
        height: 38px;
        padding: 0.375rem 0.75rem;
        border-radius: 0.25rem;
        font-size: 1rem;
        line-height: 1.5;
    }
    /* Style placeholder text for text inputs */
    .form-control::placeholder {
        color: #6c757d; /* Gray color for placeholder */
    }
    /* Style placeholder text for dropdowns */
    .form-select option[value=""] {
        color: #6c757d !important; /* Gray color for placeholder */
    }
    /* Ensure selected option is styled correctly */
    .form-select option:not([value=""]) {
        color: #000; /* Black for other options */
    }
    /* Ensure the selected value in the dropdown is styled */
    .form-select {
        color: #000; /* Default color for selected value */
    }
    .form-select:invalid {
        color: #6c757d; /* Gray color when placeholder is selected */
    }
    /* Style the Izoh textarea */
    textarea.form-control#id_description {
        height: 133px; /* Set a specific height for the Izoh field */
        resize: vertical; /* Allow vertical resizing only */
    }
    /* Add some spacing between rows */
    .form-group {
        margin-bottom: 1.5rem;
    }
    .align-right {
        text-align: end !important;
    }
    /* Style the breadcrumb */
    .breadcrumb {
        background-color: transparent; /* Match the background in the image */
        padding: 0.5rem 0; /* Add some spacing */
        margin-bottom: 1rem;
    }
    .breadcrumb-item + .breadcrumb-item::before {
        content: " / "; /* Use slash as separator */
    }
</style>
{% endblock %}
{% endblock %}